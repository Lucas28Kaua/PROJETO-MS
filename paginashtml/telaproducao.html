<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../imagens/favicon3.ico" type="image/x-icon">
    <link rel="stylesheet" href="../estilos/telaproducao.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="../estilos/global.css">
    <title>Sistema MS CRED</title>
</head>

<body>

    <header class="header-principal">
        <img src="../imagens/logo-mscred-menor.png" alt="logo mscred">
        <a href="../paginashtml/telalogin.html" class="btn-sair">
            <i class="material-symbols-outlined">exit_to_app</i>
            <span class="text-button">Sair</span>
        </a>
    </header>

    <aside class="sidebar">
        <button class="toggle-btn" id="toggleMenu">
            <i class="material-symbols-outlined">chevron_right</i>
        </button>
        <nav>
            <ul class="menu">
                <li>
                    <a href="telahome.html" class="menu-link"><i class="material-symbols-outlined">home</i><span class="menu-text">HOME</span></a>
                </li>
                <li>
                    <a href="telaconsulta.html" class="menu-link"><i class="material-symbols-outlined">search</i><span class="menu-text">CONSULTA</span></a>
                </li>
                <li>
                    <a href="telacadastro.html" class="menu-link"><i class="material-symbols-outlined">person</i><span class="menu-text">CADASTRO</span></a>
                </li>
                <li>
                    <a href="telaproducao.html" class="menu-link"><i class="material-symbols-outlined">trending_up</i><span class="menu-text">RELATÓRIOS</span></a>
                </li>
                <li>
                    <a href="telaminhaproducao.html" class="menu-link"><i class="material-symbols-outlined">dashboard</i><span class="menu-text">PRODUÇÃO</span></a>
                </li>
            </ul>
        </nav>
    </aside>

    <main class="content">
        <div class="relatorio-container"> 
            <div class="secao-titulo-relatorio">
                <h2>RELATÓRIO DE PRODUÇÃO</h2>
                <div class="filtros-relatorio">
                    <input type="month" id="filtroMes" class="input-data-relatorio">
                    <button class="btn-export" onclick="window.print()">
                        <i class="material-symbols-outlined">download</i> Exportar
                    </button>
                </div>
            </div>

            <div class="resumo-producao-grid">
                <div class="resumo-producao-card">
                    <div class="resumo-producao-icon" style="background: #e8f5e9; color: #2e7d32;">
                        <i class="material-symbols-outlined">payments</i>
                    </div>
                    <div class="resumo-producao-info">
                        <span>Total Produzido</span>
                        <h3 id="resumoTotal">R$ 0,00</h3>
                    </div>
                </div>

                <div class="resumo-producao-card">
                    <div class="resumo-producao-icon" style="background: #e3f2fd; color: #1565c0;">
                        <i class="material-symbols-outlined">assignment_turned_in</i>
                    </div>
                    <div class="resumo-producao-info">
                        <span>Propostas Finalizadas</span>
                        <h3 id="resumoQtd">0</h3>
                    </div>
                </div>

                <div class="resumo-producao-card">
                    <div class="resumo-producao-icon" style="background: #fff3e0; color: #ef6c00;">
                        <i class="material-symbols-outlined">leaderboard</i>
                    </div>
                    <div class="resumo-producao-info">
                        <span>Ticket Médio</span>
                        <h3 id="resumoTicket">R$ 0,00</h3>
                    </div>
                </div>
            </div>

            <div class="painel-detalhes-grid">
                <div class="secao-grafico caixa-branca">
                    <div class="header-interna">
                        <h4>Evolução Mensal</h4>
                        <i class="material-symbols-outlined" style="color: #666;">show_chart</i>
                    </div>
                    <div class="area-canvas">
                        <canvas id="graficoProducao"></canvas>
                    </div>
                </div>

                <div class="secao-tabela caixa-branca">
                    <div class="header-interna">
                        <h4>Últimas Propostas</h4>
                        <i class="material-symbols-outlined" style="color: #666;">list_alt</i>
                    </div>
                    <div class="tabela-rolagem">
                        <table id="tabelaFinalizados">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Cliente</th>
                                    <th>Valor</th>
                                </tr>
                            </thead>
                            <tbody id="corpoTabelaRelatorio"></tbody>
                        </table>
                    </div>
                </div>
            </div> 
        </div> 
    </main>

    <div class="menu-hamburguer" id="menuToggle">
        <span></span><span></span><span></span>
    </div>

    <div class="overlay" id="overlay"></div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../javascript/producao.js"></script>

</body>
</html>